---
interface Props {
  id: string;
  title: string;
  latinTitle?: string;
  category: string;
  latinEnglishPath?: string;
  englishPath?: string;
  restricted?: boolean;
}

const { id, title, latinTitle, category, latinEnglishPath, englishPath, restricted } = Astro.props;

const categoryLabels: Record<string, string> = {
  'major-theological': 'Major Theological',
  'quaestiones-disputatae': 'Quaestiones Disputatae',
  'opuscula': 'Opuscula',
  'aristotle-commentary': 'Aristotle Commentary',
  'biblical-commentary': 'Biblical Commentary',
  'other-commentary': 'Other Commentary',
  'popular': 'Popular Works',
};
---

<article class="work-card">
  <h3 class="title">
    <a href={`/works/${id}/`}>{title}</a>
  </h3>
  {latinTitle && <p class="latin-title">{latinTitle}</p>}
  <p class="category">{categoryLabels[category] || category}</p>

  <div class="links">
    {latinEnglishPath && (
      <a href={latinEnglishPath}>
        Latin &amp; English
        {restricted && <span class="restricted">(restricted)</span>}
      </a>
    )}
    {englishPath && (
      <a href={englishPath}>English only</a>
    )}
  </div>
</article>

<style>
  .work-card {
    padding: 1rem;
    background-color: var(--color-bg-alt);
    border: 1px solid var(--color-border);
    border-radius: 4px;
  }

  .title {
    font-size: 1.125rem;
    margin-bottom: 0.25rem;
  }

  .title a {
    color: var(--color-text);
    text-decoration: none;
  }

  .title a:hover {
    color: var(--color-link);
    text-decoration: underline;
  }

  .latin-title {
    font-style: italic;
    color: var(--color-text-muted);
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
  }

  .category {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
    margin-bottom: 0.75rem;
  }

  .links {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    font-size: 0.9rem;
  }

  .restricted {
    font-size: 0.75rem;
    color: var(--color-text-muted);
    margin-left: 0.25rem;
  }
</style>
